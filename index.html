<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ROST Clicker</title>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet" />
  <style>
    body {
      margin: 0;
      font-family: 'Press Start 2P', cursive;
      background-color: #000;
      color: #fff;
      overflow: hidden;
    }
    .game-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      text-align: center;
    }
    .game-button {
      font-size: 16px;
      padding: 20px;
      background-color: #fff;
      color: #000;
      border: 3px solid #000;
      cursor: pointer;
    }
    .rep-counter {
      font-size: 14px;
      margin-top: 20px;
    }
    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: rgba(0, 0, 0, 0.85);
      color: #fff;
      font-size: 10px;
      padding: 40px;
      box-sizing: border-box;
      z-index: 10;
    }
    .modal h2 {
      font-size: 12px;
    }
    .modal button {
      font-size: 10px;
      padding: 5px;
      margin-top: 10px;
      background: #fff;
      color: #000;
      border: 2px solid #fff;
      cursor: pointer;
    }
    .menu {
      position: absolute;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      gap: 12px;
      background: #000;
      z-index: 5;
    }
    .menu button {
      padding: 12px;
      font-size: 12px;
      border: 2px solid #fff;
      background: #000;
      color: #fff;
      cursor: pointer;
    }
    .rep-fly {
      position: fixed;
      font-size: 12px;
      animation: flyUp 1s ease-out forwards;
      color: #0f0;
      z-index: 20;
      pointer-events: none;
    }
    @keyframes flyUp {
      0% { transform: translateY(0); opacity: 1; }
      100% { transform: translateY(-50px); opacity: 0; }
    }
  </style>
</head>
<body>
  <div id="menuScreen" class="menu">
    <button onclick="startGame()">–ù–∞—á–∞—Ç—å</button>
    <button onclick="openRules()">–ü—Ä–∞–≤–∏–ª–∞</button>
    <button onclick="openSettings()">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
  </div>

  <div class="game-container" id="gameScreen" style="display: none;">
    <button class="game-button" onclick="gameButtonClick(event)">+REP</button>
    <div class="rep-counter" id="repCounter">–†–µ–ø—É—Ç–∞—Ü–∏—è: 0</div>
  </div>

  <!-- –ú–æ–¥–∞–ª–∫–∏ -->
  <div id="rulesModal" class="modal">
    <h2>–ü—Ä–∞–≤–∏–ª–∞</h2>
    <p>–ù–∞–∂–∏–º–∞–π, –∫–æ–ø–∏ —Ä–µ–ø—É—Ç–∞—Ü–∏—é, –ø–æ–∫—É–ø–∞–π –ø—Ä–æ–∫–∞—á–∫–∏, —Ä–µ–∞–≥–∏—Ä—É–π –Ω–∞ —Å–æ–±—ã—Ç–∏—è!</p>
    <button onclick="closeModals()">–ó–∞–∫—Ä—ã—Ç—å</button>
  </div>
  <div id="settingsModal" class="modal">
    <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
    <p>–ü–æ–∫–∞ –ø—É—Å—Ç–æ :)</p>
    <button onclick="closeModals()">–ó–∞–∫—Ä—ã—Ç—å</button>
  </div>

  <!-- –ü—Ä–æ–∫–∞—á–∫–∞ –∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å -->
  <div id="upgradePanel" style="display:none; position:fixed; bottom:60px; right:15px; z-index:20;">
    <button onclick="buyUpgrade()" style="font-family:'Press Start 2P'; font-size:10px; padding:8px; background:#000; color:#0f0; border:2px solid #0f0;">üí™ –ü—Ä–æ–∫–∞—á–∞—Ç—å (100)</button>
  </div>

  <div id="inventoryPanel" style="display:none; position:fixed; top:60px; right:15px; z-index:20; background:#111; border:2px solid #fff; padding:10px; color:#fff; font-size:10px; font-family:'Press Start 2P'; border-radius:6px;">
    <h4 style="margin-top:0;">üéí –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h4>
    <ul id="inventoryList" style="list-style:none; padding-left:0;"></ul>
  </div>

  <script>
    let repCount = 0;
    let upgrades = 0;
    let repPerClick = 1;
    let inventory = [];

    function updateRepCounter() {
      document.getElementById('repCounter').textContent = '–†–µ–ø—É—Ç–∞—Ü–∏—è: ' + repCount;
    }

    function gameButtonClick(event) {
      repCount += repPerClick;
      updateRepCounter();
      showRepText(event);
      if (Math.random() < 0.1) triggerRandomEvent();
    }

    function showRepText(event) {
      const button = event.currentTarget;
      const rect = button.getBoundingClientRect();
      const repText = document.createElement('div');
      repText.textContent = '+rep';
      repText.className = 'rep-fly';
      repText.style.left = (rect.left + rect.width / 2 + (Math.random() * 40 - 20)) + 'px';
      repText.style.top = (rect.top - 10) + 'px';
      document.body.appendChild(repText);
      repText.addEventListener('animationend', () => repText.remove());
    }

    function buyUpgrade() {
      if (repCount >= 100) {
        repCount -= 100;
        upgrades++;
        repPerClick++;
        updateRepCounter();
        alert(`–¢—ã –ø—Ä–æ–∫–∞—á–∞–ª—Å—è! –¢–µ–ø–µ—Ä—å +${repPerClick} —Ä–µ–ø–∞ –∑–∞ –∫–ª–∏–∫.`);
      } else {
        alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏!');
      }
    }

    function triggerRandomEvent() {
      const eventChance = Math.random();
      if (eventChance < 0.33) {
        const item = "ü•§ –≠–Ω–µ—Ä–≥–µ—Ç–∏–∫";
        inventory.push(item);
        updateInventory();
        alert("–°–æ–±—ã—Ç–∏–µ! –¢—ã –Ω–∞—à—ë–ª " + item);
      } else if (eventChance < 0.66) {
        const bonus = Math.floor(Math.random() * 10) + 5;
        repCount += bonus;
        updateRepCounter();
        alert("–°–æ–±—ã—Ç–∏–µ! –ë–æ–Ω—É—Å–Ω—ã–π +rep: " + bonus);
      } else {
        alert("–ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ —Å–æ–±—ã—Ç–∏–µ... –ù–æ –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ.");
      }
    }

    function updateInventory() {
      const invList = document.getElementById('inventoryList');
      invList.innerHTML = '';
      inventory.forEach(item => {
        const li = document.createElement('li');
        li.textContent = item;
        invList.appendChild(li);
      });
    }

    function openRules() {
      document.getElementById('rulesModal').style.display = 'block';
    }

    function openSettings() {
      document.getElementById('settingsModal').style.display = 'block';
    }

    function closeModals() {
      document.querySelectorAll('.modal').forEach(m => m.style.display = 'none');
    }

    function startGame() {
      closeModals();
      document.getElementById('menuScreen').style.display = 'none';
      document.getElementById('gameScreen').style.display = 'flex';
      document.getElementById('upgradePanel').style.display = 'block';
      document.getElementById('inventoryPanel').style.display = 'block';
    }
  </script>
</body>
</html>
